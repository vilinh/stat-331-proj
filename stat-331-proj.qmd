---
title: "final-proj"
format: html
editor: visual
self-contained: true
---

## Testing

## Reading in data and initial cleaning

```{r}
library(tidyverse)
library(here)

child_mortality <- read.csv("child_mortality_0_5_year_olds_dying_per_1000_born.csv")
GDP_per_Cap <- read.csv("gdp_pcap.csv")

```

### Sneak peek

```{r}
head(child_mortality)
head(GDP_per_Cap)


# mortality NAs 
colSums(is.na(child_mortality))

# GDP Nas
colSums(is.na(GDP_per_Cap))
```

### Let's start cleaning

-   Some countries did not exist until 1950 (assumed they get their independence from a colonial power this year, so refine data frames to remove cols X1800 - X 1949

```{r}
# Refine child_mortality dataset
child_mortality <- child_mortality |>
  select(country, `X1950`:`X2100`)

# Refine GDP_per_Capita dataset
GDP_per_Cap <- GDP_per_Cap |>
  select(country, `X1950`:`X2100`)

#Renaming cols
child_mortality <- child_mortality|>
  rename_with(~ str_replace(., "^X", ""), .cols = everything())

GDP_per_Cap <- GDP_per_Cap |>
  rename_with(~ str_replace(., "^X", ""), .cols = everything())

```

### pivoting longer

```{r}
child_mortality_long <- child_mortality |>
  pivot_longer(
    cols = !country,
    names_to = "Year",
    values_to = "Mortality Rate"
  )

GDP_per_Cap_long <- GDP_per_Cap |>
  pivot_longer(
    cols = !country,
    names_to = "Year",
    values_to = "GDP Per Capita"
  )

```

### To Do:

-   cleaning:

    -   remove NA's

    -   will need to convert year, GDP to numeric

    -   will need to figure out a way to handle when we have 16000 vs 16k etc... maybe we can str_replace k with "000" before converting to numeric
